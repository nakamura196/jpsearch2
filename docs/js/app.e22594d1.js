(function(t){function e(e){for(var s,n,o=e[0],i=e[1],c=e[2],u=0,m=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&m.push(r[n][0]),r[n]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);h&&h(e);while(m.length)m.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var t,e=0;e<l.length;e++){for(var a=l[e],s=!0,o=1;o<a.length;o++){var i=a[o];0!==r[i]&&(s=!1)}s&&(l.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},r={app:0},l=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var h=i;l.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"44be":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),r=a("bb71");a("da64");s["a"].use(r["a"],{iconfont:"md"});var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"headline"},[t._v("\n            JPS自動ギャラリー\n        ")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{flat:""}},[a("router-link",{attrs:{to:"/"}},[t._v("Home")])],1),a("v-btn",{attrs:{flat:""}},[a("router-link",{attrs:{to:{path:"list"}}},[t._v("著者から探す")])],1)],1)],1),a("v-content",[a("router-view")],1),a("v-footer",{attrs:{dark:"",height:"auto"}},[a("v-card",{staticClass:"flex",attrs:{flat:"",tile:""}},[a("v-card-actions",{staticClass:"grey darken-3 justify-center my-5"},[t._v("\n                Satoru Nakamura\n            ")])],1)],1)],1)},n=[],o=a("2877"),i=a("6544"),c=a.n(i),h=a("7496"),u=a("8336"),m=a("b0af"),p=a("99d9"),d=a("549c"),v=a("553a"),g=a("9910"),f=a("71d9"),b=a("2a7f"),_={},y=Object(o["a"])(_,l,n,!1,null,null,null),x=y.exports;c()(y,{VApp:h["a"],VBtn:u["a"],VCard:m["a"],VCardActions:p["a"],VContent:d["a"],VFooter:v["a"],VSpacer:g["a"],VToolbar:f["a"],VToolbarItems:b["a"],VToolbarTitle:b["b"]});var C=a("8c4f"),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{light:""}},[a("section",[a("v-parallax",{attrs:{src:"assets/hero.jpeg",height:"600"}},[a("v-layout",{staticClass:"white--text",attrs:{column:"","align-center":"","justify-center":""}},[a("h1",{staticClass:"white--text mb-2 display-1 text-xs-center"},[t._v("JPS自動ギャラリー")]),a("v-btn",{staticClass:"blue lighten-2 mt-5",attrs:{dark:"",large:"",to:{path:"search",query:{q:"葛飾北斎"}}}},[t._v("\n                    試してみる\n                ")])],1)],1)],1),a("v-content",[a("section",[a("v-layout",{staticClass:"my-5",attrs:{column:"",wrap:"","align-center":""}},[a("v-flex",{staticClass:"my-3",attrs:{xs12:"",sm4:""}},[a("div",{staticClass:"text-xs-center"},[a("h2",{staticClass:"headline"},[t._v("メニュー")])])]),a("v-flex",{attrs:{xs12:""}},[a("v-container",{attrs:{"grid-list-xl":""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"",md4:""}},[a("v-card",{staticClass:"elevation-0 transparent"},[a("v-card-text",{staticClass:"text-xs-center"},[a("v-icon",{staticClass:"blue--text text--lighten-2",attrs:{"x-large":""}},[t._v("people")])],1),a("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[a("div",{staticClass:"headline text-xs-center"},[t._v("\n                                            著者\n                                        ")])]),a("v-card-text",{staticClass:"text-xs-center"},[t._v("\n                                        著者から探す\n                                        "),a("v-btn",{staticClass:"blue lighten-2 mt-4",attrs:{dark:"",to:"/list"}},[t._v("\n                                        探す\n                                    ")])],1)],1)],1),a("v-flex",{attrs:{xs12:"",md4:""}},[a("v-card",{staticClass:"elevation-0 transparent"},[a("v-card-text",{staticClass:"text-xs-center"},[a("v-icon",{staticClass:"blue--text text--lighten-2",attrs:{"x-large":""}},[t._v("image")])],1),a("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[a("div",{staticClass:"headline text-xs-center"},[t._v("\n                                            アイテム\n                                        ")])]),a("v-card-text",{staticClass:"text-xs-center"},[t._v("\n                                        アイテムから探す\n                                        "),a("v-btn",{staticClass:"blue lighten-2 mt-4",attrs:{dark:"",to:"/item"}},[t._v("\n                                        探す\n                                    ")])],1)],1)],1),a("v-flex",{attrs:{xs12:"",md4:""}},[a("v-card",{staticClass:"elevation-0 transparent"},[a("v-card-text",{staticClass:"text-xs-center"},[a("v-icon",{staticClass:"blue--text text--lighten-2",attrs:{"x-large":""}},[t._v("build")])],1),a("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[a("div",{staticClass:"headline text-xs-center"},[t._v("開発中")])])],1)],1)],1)],1)],1)],1)],1)])],1)},I=[],E=a("12b2"),j=a("a523"),T=a("0e8f"),V=a("132d"),q=a("a722"),k=a("8b9c"),R={},O=Object(o["a"])(R,w,I,!1,null,null,null),P=O.exports;c()(O,{VApp:h["a"],VBtn:u["a"],VCard:m["a"],VCardText:p["b"],VCardTitle:E["a"],VContainer:j["a"],VContent:d["a"],VFlex:T["a"],VIcon:V["a"],VLayout:q["a"],VParallax:k["a"]});var S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{light:""}},[a("section",[a("v-parallax",{attrs:{src:"assets/hero.jpeg",height:"600"}},[a("v-layout",{staticClass:"white--text",attrs:{column:"","align-center":"","justify-center":""}},[a("h1",{staticClass:"white--text mb-2 display-1 text-xs-center"},[t._v("電子展示プロトタイプ")]),a("div",{staticClass:"subheading mb-3 text-xs-center"},[t._v("JPS利活用スキーマの活用例")]),a("v-btn",{staticClass:"blue lighten-2 mt-5",attrs:{dark:"",large:"",href:"#/search?q=葛飾北斎"}},[t._v("\n                    「葛飾北斎」で試す\n                ")])],1)],1)],1),a("v-content",[a("section",[a("v-layout",{staticClass:"my-5",attrs:{column:"",wrap:"","align-center":""}},[a("v-flex",{staticClass:"my-3",attrs:{xs12:"",sm4:""}},[a("div",{staticClass:"text-xs-center"},[a("h2",{staticClass:"headline"},[t._v("メニュー")])])]),a("v-flex",{attrs:{xs12:""}},[a("v-container",{attrs:{"grid-list-xl":""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"",md4:""}},[a("v-card",{staticClass:"elevation-0 transparent"},[a("v-card-text",{staticClass:"text-xs-center"},[a("v-icon",{staticClass:"blue--text text--lighten-2",attrs:{"x-large":""}},[t._v("people")])],1),a("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[a("div",{staticClass:"headline text-xs-center"},[a("router-link",{attrs:{to:"/list"}},[t._v("著者100人")])],1)]),a("v-card-text",[t._v("\n                                        作品数の多い著者100人から探す\n                                    ")])],1)],1),a("v-flex",{attrs:{xs12:"",md4:""}},[a("v-card",{staticClass:"elevation-0 transparent"},[a("v-card-text",{staticClass:"text-xs-center"},[a("v-icon",{staticClass:"blue--text text--lighten-2",attrs:{"x-large":""}},[t._v("library_books")])],1),a("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[a("div",{staticClass:"headline text-xs-center"},[a("a",{attrs:{href:"./vis.html"}},[t._v("ネットワーク")])])]),a("v-card-text",[t._v("\n                                        人物と作品の関係性の可視化\n                                    ")])],1)],1),a("v-flex",{attrs:{xs12:"",md4:""}},[a("v-card",{staticClass:"elevation-0 transparent"},[a("v-card-text",{staticClass:"text-xs-center"},[a("v-icon",{staticClass:"blue--text text--lighten-2",attrs:{"x-large":""}},[t._v("build")])],1),a("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[a("div",{staticClass:"headline text-xs-center"},[t._v("開発中")])])],1)],1)],1)],1)],1)],1)],1)])],1)},N=[],F={},A=Object(o["a"])(F,S,N,!1,null,null,null),U=A.exports;c()(A,{VApp:h["a"],VBtn:u["a"],VCard:m["a"],VCardText:p["b"],VCardTitle:E["a"],VContainer:j["a"],VContent:d["a"],VFlex:T["a"],VIcon:V["a"],VLayout:q["a"],VParallax:k["a"]});var D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("h2",{staticClass:"my-5"},[t._v("作品数の多い著者100人")]),a("v-layout",{directives:[{name:"show",rawName:"v-show",value:t.results.length>0,expression:"results.length > 0"}],attrs:{row:"",wrap:""}},t._l(t.results,(function(e,s){return a("v-flex",{key:s,attrs:{xs12:"",sm2:""}},[a("v-card",[e.thumbnail?a("v-img",{attrs:{src:e.thumbnail.value}}):t._e(),a("v-card-title",{attrs:{"primary-title":""}},[a("h3",{staticClass:"headline"},[a("router-link",{attrs:{to:{path:"search",query:{q:e.label.value}}}},[t._v(t._s(e.label.value))])],1)])],1)],1)})),1)],1)},$=[],M=a("bc3a"),X=a.n(M),B={data:()=>({results:[]}),mounted(){this.search()},methods:{search(){let t="";t+="select distinct count(?s) as ?count ?cho ?label ?thumbnail where { \n",t+="  ?s schema:creator ?cho . \n",t+="  ?cho rdfs:label ?label; \n",t+="  schema:image ?thumbnail \n",t+="} \n",t+="ORDER BY desc(?count) \n",t+="LIMIT 100 \n",X.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(t)+"&output=json").then(t=>{this.results=t.data.results.bindings,console.log(this.results)}).catch(t=>{console.log(t)})}}},H=B,W=a("adda"),z=Object(o["a"])(H,D,$,!1,null,null,null),G=z.exports;c()(z,{VCard:m["a"],VCardTitle:E["a"],VContainer:j["a"],VFlex:T["a"],VImg:W["a"],VLayout:q["a"]});var J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm10:""}},[a("v-form",{ref:"form"},[a("v-text-field",{model:{value:t.term,callback:function(e){t.term=e},expression:"term"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.search()}}},[a("v-icon",[t._v("search")])],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm4:"","offset-sm4":""}},[a("TargetAgent",{staticClass:"mt-5",attrs:{term:t.term}})],1),a("div",{staticClass:"my-5"}),a("Items",{attrs:{term:t.term}}),a("v-card",{staticClass:"mt-5",staticStyle:{width:"100%"}},[a("Chart",{attrs:{term:t.term}})],1),a("div",{staticClass:"my-5"}),a("RelatedGallery",{attrs:{term:t.term}}),a("div",{staticClass:"my-5"}),a("Event",{attrs:{term:t.term}}),a("div",{staticClass:"my-5"}),a("Europeana",{attrs:{term:t.term}}),a("div",{staticClass:"my-5"}),a("DPLA",{attrs:{term:t.term}})],1)},Y=[],K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{directives:[{name:"show",rawName:"v-show",value:t.label,expression:"label"}]},[t.thumbnail?a("v-img",{attrs:{src:t.thumbnail}}):t._e(),a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[t._v(t._s(t.label))]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.comment,expression:"comment"}]},[t._v(" "+t._s(t.comment)+" ")])])])],1)},Q=[],Z={props:["term"],data:()=>({label:null,comment:null,thumbnail:null}),methods:{search(t){this.label=null,this.comment=null,this.thumbnail=null;let e="PREFIX schema: <http://schema.org/> \n";e+="SELECT distinct * WHERE { \n",e+="?s rdfs:label ?label. \n",e+="filter (?s = chname:"+t+") . \n",e+="OPTIONAL {?s schema:description ?comment . } \n",e+="OPTIONAL {?s schema:image ?thumbnail . } \n",e+="} \n",e+="LIMIT 1 \n",X.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{let e=t.data.results.bindings[0];this.label=e.label.value,e.comment&&(this.comment=e.comment.value),e.thumbnail&&(this.thumbnail=e.thumbnail.value)}).catch(t=>{console.log(t)})}},watch:{term:function(){this.search(this.term)}},created(){this.search(this.term)}},tt=Z,et=Object(o["a"])(tt,K,Q,!1,null,null,null),at=et.exports;c()(et,{VCard:m["a"],VCardTitle:E["a"],VImg:W["a"]});var st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("GChart",{directives:[{name:"show",rawName:"v-show",value:t.chartData.length>0,expression:"chartData.length > 0"}],attrs:{type:"ColumnChart",data:t.chartData,options:t.chartOptions}})},rt=[],lt=a("cb43"),nt={props:["term"],components:{GChart:lt["GChart"]},data:()=>({chartData:[],chartOptions:{}}),methods:{search(t){let e="PREFIX schema: <http://schema.org/> \n";e+="PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> \n",e+="SELECT ?cho ?label ?thumbnail ?pLabel WHERE { \n",e+="?cho rdfs:label ?label; \n",e+="schema:creator/owl:sameAs? chname:"+t+" . \n",e+="OPTIONAL {?cho schema:image ?thumbnail} \n",e+="?cho jps:sourceInfo ?source . \n",e+="?source schema:provider ?provider . \n",e+="?provider rdfs:label ?pLabel . \n",e+="} \n",X.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{let e=t.data.results.bindings,a={};for(let l=0;l<e.length;l++){let t=e[l],s=t.pLabel.value;a[s]||(a[s]=0),a[s]+=1}let s=[];s.push(["Source","# of items"]);let r=Object.keys(a).sort((function(t,e){return-(a[t]-a[e])}));for(let l=0;l<r.length;l++){let t=r[l];s.push([t,a[t]])}this.chartData=s}).catch(t=>{console.log(t)})}},watch:{term:function(){this.search(this.term)}},created(){this.search(this.term)}},ot=nt,it=Object(o["a"])(ot,st,rt,!1,null,null,null),ct=it.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("h2",{staticClass:"my-5"},[t._v("\n    作品で知る\n    "),a("br"),a("small",[a("a",{attrs:{href:t.link}},[t._v("すべてを見る")])])]),a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.results,(function(e,s){return a("v-flex",{key:s,attrs:{xs12:"",sm2:""}},[a("v-card",[a("router-link",{attrs:{to:{name:"item",query:{id:e.cho.value.split("/data/")[1]}}}},[e.thumbnail?a("v-img",{attrs:{src:e.thumbnail.value}}):t._e()],1),a("v-card-title",{attrs:{"primary-title":""}},[a("h3",{staticClass:"headline mb-0"},[a("router-link",{attrs:{to:{name:"item",query:{id:e.cho.value.split("/data/")[1]}}}},[t._v(t._s(e.label.value))])],1)])],1)],1)})),1)],1)},ut=[],mt={props:["term"],data:()=>({results:[],link:null}),methods:{search(t){this.results=[];let e="PREFIX schema: <http://schema.org/> \n";e+="PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> \n",e+="SELECT ?cho ?label ?thumbnail WHERE { \n",e+="?cho rdfs:label ?label; \n",e+="schema:creator/owl:sameAs? chname:"+t+" . \n",e+="OPTIONAL {?cho schema:image ?thumbnail} \n",e+="} \n",e+="LIMIT 12 \n",this.link="https://jpsearch.go.jp/rdf/sparql/easy/?query="+encodeURIComponent(e.split("LIMIT ")[0]),X.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{this.results=t.data.results.bindings}).catch(t=>{console.log(t)})}},watch:{term:function(){this.search(this.term)}},created(){this.search(this.term)}},pt=mt,dt=Object(o["a"])(pt,ht,ut,!1,null,null,null),vt=dt.exports;c()(dt,{VCard:m["a"],VCardTitle:E["a"],VContainer:j["a"],VFlex:T["a"],VImg:W["a"],VLayout:q["a"]});var gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{directives:[{name:"show",rawName:"v-show",value:t.results.length>0,expression:"results.length > 0"}],attrs:{"grid-list-md":"","text-xs-center":""}},[a("h2",{staticClass:"my-5"},[t._v("関連ギャラリー"),a("br"),a("small",[a("a",{attrs:{href:t.link}},[t._v("すべてを見る")])])]),a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.results,(function(e,s){return a("v-flex",{key:s,attrs:{xs12:"",sm2:""}},[a("v-card",[e.pthumbnail?a("v-img",{attrs:{src:e.pthumbnail.value}}):t._e(),a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[a("router-link",{attrs:{to:{path:"search",query:{q:e.plabel.value}}}},[t._v(t._s(e.plabel.value))])],1)])])],1)],1)})),1)],1)},ft=[],bt={props:["term"],data:()=>({results:[],link:null}),methods:{search(t){this.results=[];let e="";e+="SELECT DISTINCT ?dest ?plabel ?pthumbnail WHERE { \n",e+="\t?s jps:agential\n",e+='\t\t[jps:relationType/skos:broader?/rdfs:label "制作"; jps:value/owl:sameAs? chname:'+t+" ],\n",e+='\t\t[jps:relationType/skos:broader?/rdfs:label "制作"; jps:value ?dest ]\n',e+="\tFILTER(?dest != chname:"+t+")\n",e+='\tFILTER(strstarts(str(?dest), "https://jpsearch.go.jp/entity/chname/"))\n',e+="  ?dest schema:image ?pthumbnail;\n",e+="      rdfs:label ?plabel\n",e+="} LIMIT 12 \n",this.link="https://jpsearch.go.jp/rdf/sparql/easy/?query="+encodeURIComponent(e.split("LIMIT ")[0]),X.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{this.results=t.data.results.bindings}).catch(t=>{console.log(t)})}},watch:{term:function(){this.search(this.term)}},created(){this.search(this.term)}},_t=bt,yt=Object(o["a"])(_t,gt,ft,!1,null,null,null),xt=yt.exports;c()(yt,{VCard:m["a"],VCardTitle:E["a"],VContainer:j["a"],VFlex:T["a"],VImg:W["a"],VLayout:q["a"]});var Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("h2",{staticClass:"my-5"},[t._v("過去の展覧会を探す")]),a("div",{staticStyle:{width:"100%",height:"600px"}},[a("l-map",{attrs:{zoom:t.zoom,center:t.center}},[a("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._l(t.markers,(function(e,s){return a("l-marker",{key:s,attrs:{"lat-lng":e.latlng}},[a("l-popup",[a("a",{attrs:{target:"_blank",href:e.url}},[t._v(t._s(e.content))])])],1)}))],2)],1)])},wt=[],It=a("2699"),Et=a("a40a"),jt=a("4e2b"),Lt=a("f60f"),Tt=a("e11e");a("6cc5");delete Tt["Icon"].Default.prototype._getIconUrl,Tt["Icon"].Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")});var Vt={props:["term"],components:{LMap:It["a"],LTileLayer:Et["a"],LMarker:jt["a"],LPopup:Lt["a"]},data:()=>({results:[],link:null,zoom:7,center:[35.681489,139.767136],url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',markers:[]}),methods:{search(t){this.results=[];let e="PREFIX type: <https://jpsearch.go.jp/term/type/> \n";e+="SELECT DISTINCT ?s ?label ?creator ?type ?spatial ?lat ?long WHERE { \n",e+="\t?s rdfs:label ?label ; a type:展覧会  . \n",e+="\tOPTIONAL {?s schema:creator ?creator .} \n",e+="\t?s ?p ?value. \n",e+="\tFILTER(bif:contains(?value, '\""+t+"\"')) . \n",e+="\t?s jps:sourceInfo ?source . \n",e+="\t?s schema:spatial ?spatial . \n",e+="\t?spatial schema:geo ?geo . \n",e+="\t?geo schema:latitude ?lat  . \n",e+="\t?geo schema:longitude ?long . \n",e+="} ",X.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{let e=t.data.results.bindings;this.markers=[];let a=0,s=0;for(let r=0;r<e.length;r++){let t=e[r],l={latlng:[Number(t.lat.value),Number(t.long.value)],content:t.label.value,url:t.s.value};this.markers.push(l),a+=Number(t.lat.value),s+=Number(t.long.value)}this.center=[a/e.length,s/e.length]}).catch(t=>{console.log(t)})}},watch:{term:function(){this.search(this.term)}},created(){this.search(this.term)}},qt=Vt,kt=Object(o["a"])(qt,Ct,wt,!1,null,null,null),Rt=kt.exports;c()(kt,{VContainer:j["a"]});var Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{directives:[{name:"show",rawName:"v-show",value:t.results.length>0,expression:"results.length > 0"}],attrs:{"grid-list-md":"","text-xs-center":""}},[a("h2",{staticClass:"mt-5 mb-5"},[t._v("Europeanaで探す")]),a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.results,(function(e,s){return a("v-flex",{key:s,attrs:{xs12:"",sm2:""}},[a("v-card",[a("a",{attrs:{href:e.uri.value}},[e.image?a("v-img",{attrs:{src:e.image.value}}):t._e()],1),a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[a("a",{attrs:{target:"snorql",href:e.uri.value}},[t._v(t._s(e.label.value))])])])])],1)],1)})),1)],1)},Pt=[],St={props:["term"],data:()=>({results:[],link:null}),methods:{search(t){this.results=[];let e="";e+="PREFIX dc: <http://purl.org/dc/elements/1.1/> \n",e+="PREFIX edm: <http://www.europeana.eu/schemas/edm/> \n",e+="PREFIX ore: <http://www.openarchives.org/ore/terms/> \n",e+="SELECT ?uri ?label ?image WHERE{ \n",e+="\tBIND(chname:"+t+" as ?cname) \n",e+="\t{ \n",e+='\t\t?cname schema:name ?ename. FILTER(lang(?ename)="en") \n',e+='\t\tBIND(replace(?ename, ", ", " ") as ?name) \n',e+="\t\t?loduri owl:sameAs ?cname ; rdfs:isDefinedBy <http://dbpedia.org/>. \n",e+="\t\tSERVICE SILENT <http://sparql.europeana.eu/> { \n",e+="\t\t\t{?uri dc:creator ?name .} UNION  \n",e+="\t\t\t{?proxy dc:creator ?loduri ; ore:proxyFor ?cho .  \n",e+='?uri ore:proxyFor ?cho ; edm:europeanaProxy "false". } \n',e+="\t\t\t?uri dc:title ?label . \n",e+="\t\t\t?uri ore:proxyIn [edm:isShownBy ?image ] \n",e+="\t\t} \n",e+="\t\t} \n",e+="} limit 12\n",X.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{this.results=t.data.results.bindings}).catch(t=>{console.log(t)})}},watch:{term:function(){this.search(this.term)}},created(){this.search(this.term)}},Nt=St,Ft=Object(o["a"])(Nt,Ot,Pt,!1,null,null,null),At=Ft.exports;c()(Ft,{VCard:m["a"],VCardTitle:E["a"],VContainer:j["a"],VFlex:T["a"],VImg:W["a"],VLayout:q["a"]});var Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{directives:[{name:"show",rawName:"v-show",value:t.results.length>0,expression:"results.length > 0"}],attrs:{"grid-list-md":"","text-xs-center":""}},[a("h2",{staticClass:"mt-5 mb-5"},[t._v("DPLAで探す")]),a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.results,(function(e,s){return a("v-flex",{key:s,attrs:{xs12:"",sm2:""}},[a("v-card",[a("a",{attrs:{href:e.uri.value}},[e.image?a("v-img",{attrs:{src:e.image.value}}):t._e()],1),a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[a("a",{attrs:{target:"snorql",href:e.uri.value}},[t._v(t._s(e.label.value))])])])])],1)],1)})),1)],1)},Dt=[],$t={props:["term"],data:()=>({results:[],link:null}),methods:{search(t){this.results=[];let e="";e+="PREFIX wrp: <http://purl.org/net/ld/wrapper/term#> \n",e+="SELECT ?uri ?label ?image WHERE{ \n",e+="\tBIND(chname:"+t+" as ?cname) \n",e+="\t{ \n",e+='\t\t?cname schema:name ?ename. FILTER(lang(?ename)="en") \n',e+='\t\tBIND(concat(strafter(?ename, ", "), " ", strbefore(?ename, ",")) as ?name) \n',e+="\t\tSERVICE SILENT <http://www.kanzaki.com/works/ld/wrapper/dpla-sparqler> { \n",e+='\t\t\t?uri a "image" ; \n',e+="\t\t\twrp:title ?label ; \n",e+="\t\t\twrp:creator ?name ; \n",e+="\t\t\twrp:image ?image \n",e+="\t\t} \n",e+="\t}  \n",e+="} limit 12\n",X.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{this.results=t.data.results.bindings}).catch(t=>{console.log(t)})}},watch:{term:function(){this.search(this.term)}},created(){this.search(this.term)}},Mt=$t,Xt=Object(o["a"])(Mt,Ut,Dt,!1,null,null,null),Bt=Xt.exports;c()(Xt,{VCard:m["a"],VCardTitle:E["a"],VContainer:j["a"],VFlex:T["a"],VImg:W["a"],VLayout:q["a"]});var Ht={components:{TargetAgent:at,Chart:ct,Items:vt,RelatedGallery:xt,Event:Rt,Europeana:At,DPLA:Bt},data:()=>({term:"歌川広重",link_related:"",link_items:"",iframe_url:""}),watch:{$route(){""!=this.$route.query.q&&(this.term=this.$route.query.q),this.getAll(this.term)}},mounted(){""!=this.$route.query.q&&(this.term=this.$route.query.q),this.getAll(this.term)},methods:{search(){var t=Object.assign({},this.$route.query);t.q=this.term,this.$router.push({query:t})},getAll(t){this.iframe_url="timeline.html?q="+t,this.term=t}}},Wt=Ht,zt=a("4bd4"),Gt=a("2677"),Jt=Object(o["a"])(Wt,J,Y,!1,null,null,null),Yt=Jt.exports;c()(Jt,{VBtn:u["a"],VCard:m["a"],VContainer:j["a"],VFlex:T["a"],VForm:zt["a"],VIcon:V["a"],VLayout:q["a"],VTextField:Gt["a"]});var Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm10:""}},[a("v-form",{ref:"form"},[a("v-text-field",{model:{value:t.term,callback:function(e){t.term=e},expression:"term"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.search()}}},[a("v-icon",[t._v("search")])],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm4:"","offset-sm4":""}},[a("br"),a("br"),a("br"),a("v-card",[t.result_target.thumbnail?a("v-img",{staticStyle:{"max-height":"20rem"},attrs:{src:t.result_target.thumbnail.value}}):t._e(),a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[t._v(t._s(t.result_target.label.value))]),a("div",[t._v(" "+t._s(t.result_target.comment.value)+" ")])])])],1)],1),a("div",{staticClass:"my-5"}),a("v-container",{directives:[{name:"show",rawName:"v-show",value:t.results_items.length>0,expression:"results_items.length > 0"}],attrs:{"grid-list-md":"","text-xs-center":""}},[a("h2",{staticClass:"my-5"},[t._v("作品で知る"),a("br"),a("small",[a("a",{attrs:{target:"_blank",href:t.link_items}},[t._v("すべてを見る")])])]),a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.results_items,(function(e){return a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-card",[a("a",{attrs:{target:"snorql",href:e.cho.value}},[e.thumbnail?a("v-img",{staticStyle:{"max-height":"20rem"},attrs:{src:e.thumbnail.value}}):t._e()],1),a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[a("a",{attrs:{target:"snorql",href:e.cho.value}},[t._v(t._s(e.label.value))])])])])],1)],1)})),1),a("div",{staticClass:"mt-5",staticStyle:{width:"100%"}},[a("GChart",{attrs:{type:"ColumnChart",data:t.chartData,options:t.chartOptions}})],1)],1),a("div",{staticClass:"my-5"}),a("v-container",{directives:[{name:"show",rawName:"v-show",value:t.results_related.length>0,expression:"results_related.length > 0"}],attrs:{"grid-list-md":"","text-xs-center":""}},[a("h2",{staticClass:"my-5"},[t._v("関連ギャラリー"),a("br"),a("small",[a("a",{attrs:{target:"_blank",href:t.link_related}},[t._v("すべてを見る")])])]),a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.results_related,(function(e){return a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-card",[a("a",{on:{click:function(a){return t.getAll(e.plabel.value)}}},[e.pthumbnail?a("v-img",{staticStyle:{"max-height":"20rem"},attrs:{src:e.pthumbnail.value}}):t._e()],1),a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[a("router-link",{attrs:{to:{path:"/search",query:{q:e.plabel.value}}}},[t._v(t._s(e.plabel.value))])],1)])])],1)],1)})),1),a("iframe",{staticClass:"mt-5",staticStyle:{border:"0",display:"block"},attrs:{src:t.iframe_url,width:"100%",height:"600px",scrolling:"no"}})],1),a("div",{staticClass:"my-5"}),a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("h2",{staticClass:"my-5"},[t._v("過去の展覧会を探す")]),a("div",{staticStyle:{width:"100%",height:"600px"}},[a("l-map",{attrs:{zoom:t.zoom,center:t.center}},[a("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._l(t.markers,(function(e,s){return a("l-marker",{attrs:{"lat-lng":e.latlng}},[a("l-popup",[a("a",{attrs:{target:"_blank",href:e.url}},[t._v(t._s(e.content))])])],1)}))],2)],1)]),a("div",{staticClass:"my-5"}),a("v-container",{directives:[{name:"show",rawName:"v-show",value:t.results_europeana.length>0,expression:"results_europeana.length > 0"}],attrs:{"grid-list-md":"","text-xs-center":""}},[a("h2",{staticClass:"mt-5 mb-5"},[t._v("Europeanaで探す")]),a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.results_europeana,(function(e){return a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-card",[a("a",{attrs:{target:"snorql",href:e.uri.value}},[e.image?a("v-img",{staticStyle:{"max-height":"20rem"},attrs:{src:e.image.value}}):t._e()],1),a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[a("a",{attrs:{target:"snorql",href:e.uri.value}},[t._v(t._s(e.label.value))])])])])],1)],1)})),1)],1),a("div",{staticClass:"my-5"}),a("v-container",{directives:[{name:"show",rawName:"v-show",value:t.results_dpla.length>0,expression:"results_dpla.length > 0"}],attrs:{"grid-list-md":"","text-xs-center":""}},[a("h2",{staticClass:"mt-5 mb-5"},[t._v("DPLAで探す")]),a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.results_dpla,(function(e){return a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-card",[a("a",{attrs:{target:"snorql",href:e.uri.value}},[e.image?a("v-img",{staticStyle:{"max-height":"20rem"},attrs:{src:e.image.value}}):t._e()],1),a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[a("a",{attrs:{target:"snorql",href:e.uri.value}},[t._v(t._s(e.label.value))])])])])],1)],1)})),1)],1)],1)},Qt=[];function Zt(t){let e="PREFIX schema: <http://schema.org/> \n";return e+="PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> \n",e+="SELECT ?cho ?label ?thumbnail WHERE { \n",e+="?cho rdfs:label ?label; \n",e+="schema:creator/owl:sameAs? chname:"+t+" . \n",e+="OPTIONAL {?cho schema:image ?thumbnail} \n",e+="} \n",e+="LIMIT 12 \n",e}function te(t){let e="PREFIX type: <https://jpsearch.go.jp/term/type/> \n";return e+="SELECT DISTINCT ?s ?label ?creator ?type WHERE { \n",e+="\t?s rdfs:label ?label ; a type:展覧会  . \n",e+="\tOPTIONAL {?s schema:creator ?creator .} \n",e+="\t?s ?p ?value. \n",e+="\tFILTER(bif:contains(?value, '\""+t+"\"')) . \n",e+="\t?s jps:sourceInfo ?source . \n",e+="} LIMIT 12 \n",e}function ee(t){let e="";return e+="PREFIX dc: <http://purl.org/dc/elements/1.1/> \n",e+="PREFIX edm: <http://www.europeana.eu/schemas/edm/> \n",e+="PREFIX ore: <http://www.openarchives.org/ore/terms/> \n",e+="SELECT ?uri ?label ?image WHERE{ \n",e+="\tBIND(chname:"+t+" as ?cname) \n",e+="\t{ \n",e+='\t\t?cname schema:name ?ename. FILTER(lang(?ename)="en") \n',e+='\t\tBIND(replace(?ename, ", ", " ") as ?name) \n',e+="\t\t?loduri owl:sameAs ?cname ; rdfs:isDefinedBy <http://dbpedia.org/>. \n",e+="\t\tSERVICE SILENT <http://sparql.europeana.eu/> { \n",e+="\t\t\t{?uri dc:creator ?name .} UNION  \n",e+="\t\t\t{?proxy dc:creator ?loduri ; ore:proxyFor ?cho .  \n",e+='?uri ore:proxyFor ?cho ; edm:europeanaProxy "false". } \n',e+="\t\t\t?uri dc:title ?label . \n",e+="\t\t\t?uri ore:proxyIn [edm:isShownBy ?image ] \n",e+="\t\t} \n",e+="\t\t} \n",e+="} limit 12\n",e}function ae(t){let e="";return e+="PREFIX wrp: <http://purl.org/net/ld/wrapper/term#> \n",e+="SELECT ?uri ?label ?image WHERE{ \n",e+="\tBIND(chname:"+t+" as ?cname) \n",e+="\t{ \n",e+='\t\t?cname schema:name ?ename. FILTER(lang(?ename)="en") \n',e+='\t\tBIND(concat(strafter(?ename, ", "), " ", strbefore(?ename, ",")) as ?name) \n',e+="\t\tSERVICE SILENT <http://www.kanzaki.com/works/ld/wrapper/dpla-sparqler> { \n",e+='\t\t\t?uri a "image" ; \n',e+="\t\t\twrp:title ?label ; \n",e+="\t\t\twrp:creator ?name ; \n",e+="\t\t\twrp:image ?image \n",e+="\t\t} \n",e+="\t}  \n",e+="} limit 12\n",e}delete Tt["Icon"].Default.prototype._getIconUrl,Tt["Icon"].Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")});var se={components:{GChart:lt["GChart"],LMap:It["a"],LTileLayer:Et["a"],LMarker:jt["a"],LPopup:Lt["a"]},data:()=>({result_target:{label:"",comment:""},results_items:[],results_related:[],results_event:[],results_europeana:[],results_dpla:[],term:"歌川広重",link_related:"",link_items:"",zoom:7,center:L.latLng(35.681489,139.767136),url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',markers:[],chartData:[],chartOptions:{},iframe_url:""}),watch:{$route(t,e){""!=this.$route.query.q&&(this.term=this.$route.query.q),this.getAll(this.term)}},mounted(){""!=this.$route.query.q&&(this.term=this.$route.query.q),this.getAll(this.term)},methods:{search(){var t=Object.assign({},this.$route.query);t.q=this.term,this.$router.push({query:t})},getAll(t){this.iframe_url="timeline.html?q="+t,this.term=t,this.getTargetAgent(t),this.getItems(t),this.getRelatedAgents(t),this.getEventItems(t),this.getEuropeanaItems(t),this.getDPLAItems(t),this.showMap(t),this.showChart(t)},getTargetAgent(t){this.result_target={label:"",comment:""};let e="PREFIX schema: <http://schema.org/> \n";e+="SELECT distinct * WHERE { \n",e+="?s rdfs:label ?label. \n",e+="filter (?s = chname:"+t+") . \n",e+="OPTIONAL {?s schema:description ?comment} \n",e+="OPTIONAL {?s schema:image ?thumbnail} \n",e+="} \n",e+="LIMIT 1 \n",X.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{this.result_target=t.data.results.bindings[0]}).catch(t=>{console.log(t)})},getItems(t){this.results_items=[];let e=Zt(t);this.link_items="https://jpsearch.go.jp/rdf/sparql/easy/?query="+encodeURIComponent(e.split("LIMIT ")[0]),X.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{this.results_items=t.data.results.bindings}).catch(t=>{console.log(t)})},getRelatedAgents(t){this.results_related=[];let e="";e+="SELECT DISTINCT ?dest ?plabel ?pthumbnail WHERE { \n",e+="\t?s jps:agential\n",e+='\t\t[jps:relationType/skos:broader?/rdfs:label "制作"; jps:value/owl:sameAs? chname:'+t+" ],\n",e+='\t\t[jps:relationType/skos:broader?/rdfs:label "制作"; jps:value ?dest ]\n',e+="\tFILTER(?dest != chname:"+t+")\n",e+='\tFILTER(strstarts(str(?dest), "https://jpsearch.go.jp/entity/chname/"))\n',e+="  ?dest schema:image ?pthumbnail;\n",e+="      rdfs:label ?plabel\n",e+="} LIMIT 12 \n",this.link_related="https://jpsearch.go.jp/rdf/sparql/easy/?query="+encodeURIComponent(e.split("LIMIT ")[0]),X.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{this.results_related=t.data.results.bindings}).catch(t=>{console.log(t)})},getEventItems(t){this.results_event=[];let e=te(t);X.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{this.results_event=t.data.results.bindings}).catch(t=>{console.log(t)})},getEuropeanaItems(t){this.results_europeana=[];let e=ee(t);X.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{this.results_europeana=t.data.results.bindings}).catch(t=>{console.log(t)})},getDPLAItems(t){this.results_dpla=[];let e=ae(t);X.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{this.results_dpla=t.data.results.bindings}).catch(t=>{console.log(t)})},showMap(t){let e="PREFIX type: <https://jpsearch.go.jp/term/type/> \n";e+="SELECT DISTINCT ?s ?label ?creator ?type ?spatial ?lat ?long WHERE { \n",e+="\t?s rdfs:label ?label ; a type:展覧会  . \n",e+="\tOPTIONAL {?s schema:creator ?creator .} \n",e+="\t?s ?p ?value. \n",e+="\tFILTER(bif:contains(?value, '\""+t+"\"')) . \n",e+="\t?s jps:sourceInfo ?source . \n",e+="\t?s schema:spatial ?spatial . \n",e+="\t?spatial schema:geo ?geo . \n",e+="\t?geo schema:latitude ?lat  . \n",e+="\t?geo schema:longitude ?long . \n",e+="} ",X.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{let e=t.data.results.bindings;this.markers=[];let a=0,s=0;for(let r=0;r<e.length;r++){let t=e[r],l={latlng:L.latLng(Number(t.lat.value),Number(t.long.value)),content:t.label.value,url:t.s.value};this.markers.push(l),a+=Number(t.lat.value),s+=Number(t.long.value)}this.center=L.latLng(a/e.length,s/e.length)}).catch(t=>{console.log(t)})},showChart(t){let e="PREFIX schema: <http://schema.org/> \n";e+="PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> \n",e+="SELECT ?cho ?label ?thumbnail ?pLabel WHERE { \n",e+="?cho rdfs:label ?label; \n",e+="schema:creator/owl:sameAs? chname:"+t+" . \n",e+="OPTIONAL {?cho schema:image ?thumbnail} \n",e+="?cho jps:sourceInfo ?source . \n",e+="?source schema:provider ?provider . \n",e+="?provider rdfs:label ?pLabel . \n",e+="} \n",X.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{let e=t.data.results.bindings,a={};for(let l=0;l<e.length;l++){let t=e[l],s=t.pLabel.value;a[s]||(a[s]=0),a[s]+=1}let s=[];s.push(["Source","# of items"]);let r=Object.keys(a).sort((function(t,e){return-(a[t]-a[e])}));for(let l=0;l<r.length;l++){let t=r[l];s.push([t,a[t]])}this.chartData=s}).catch(t=>{console.log(t)})}}},re=se,le=Object(o["a"])(re,Kt,Qt,!1,null,null,null),ne=le.exports;c()(le,{VBtn:u["a"],VCard:m["a"],VCardTitle:E["a"],VContainer:j["a"],VFlex:T["a"],VForm:zt["a"],VIcon:V["a"],VImg:W["a"],VLayout:q["a"],VTextField:Gt["a"]});var oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("div",{staticStyle:{width:"100%",height:"600px"}},[a("l-map",{attrs:{zoom:t.zoom,center:t.center}},[a("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._l(t.markers,(function(e,s){return a("l-marker",{attrs:{"lat-lng":e.latlng}},[a("l-popup",[a("a",{attrs:{target:"_blank",href:e.url}},[t._v(t._s(e.content))])])],1)}))],2)],1)])},ie=[];delete Tt["Icon"].Default.prototype._getIconUrl,Tt["Icon"].Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")});var ce={components:{LMap:It["a"],LTileLayer:Et["a"],LMarker:jt["a"],LPopup:Lt["a"]},data(){return{zoom:7,center:L.latLng(47.41322,-1.219482),url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',markers:[]}},methods:{removeMarker(t){this.markers.splice(t,1)},addMarker(t){this.markers.push(t.latlng)}},mounted(){let t="葛飾北斎",e="PREFIX type: <https://jpsearch.go.jp/term/type/> \n";e+="SELECT DISTINCT ?s ?label ?creator ?type ?spatial ?lat ?long WHERE { \n",e+="\t?s rdfs:label ?label ; a type:展覧会  . \n",e+="\tOPTIONAL {?s schema:creator ?creator .} \n",e+="\t?s ?p ?value. \n",e+="\tFILTER(bif:contains(?value, '\""+t+"\"')) . \n",e+="\t?s jps:sourceInfo ?source . \n",e+="\t?s schema:spatial ?spatial . \n",e+="\t?spatial schema:geo ?geo . \n",e+="\t?geo schema:latitude ?lat  . \n",e+="\t?geo schema:longitude ?long . \n",e+="} ",X.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{this.results_event=t.data.results.bindings,this.markers=[];let e=0,a=0;for(let s=0;s<this.results_event.length;s++){let t=this.results_event[s],r={latlng:L.latLng(Number(t.lat.value),Number(t.long.value)),content:t.label.value,url:t.s.value};this.markers.push(r),e+=Number(t.lat.value),a+=Number(t.long.value)}this.center=L.latLng(e/this.results_event.length,a/this.results_event.length)}).catch(t=>{console.log(t)})}},he=ce,ue=(a("94dd"),Object(o["a"])(he,oe,ie,!1,null,null,null)),me=ue.exports;c()(ue,{VContainer:j["a"]});var pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("ShowItem",{staticClass:"mt-5",attrs:{id:t.id}}),a("v-btn",{attrs:{text:"",small:"",color:"primary"},on:{click:function(e){t.show_all_flg=!t.show_all_flg}}},[t.show_all_flg?[t._v("すべて非表示")]:[t._v("すべて表示")]],2),a("ListCategories",{staticClass:"mt-5",attrs:{id:t.id,label:"Creator",property:"schema:creator",show_all_flg:t.show_all_flg}}),a("ListCategories",{staticClass:"mt-5",attrs:{id:t.id,label:"Publisher",property:"schema:publisher",show_all_flg:t.show_all_flg}}),a("ListCategories",{staticClass:"mt-5",attrs:{id:t.id,label:"Spatial",property:"schema:spatial",show_all_flg:t.show_all_flg}}),a("ListCategories",{staticClass:"mt-5",attrs:{id:t.id,label:"Temporal",property:"schema:temporal",show_all_flg:t.show_all_flg}}),a("ListCategories",{staticClass:"mt-5",attrs:{id:t.id,label:"Type",property:"rdf:type",show_all_flg:t.show_all_flg}})],1)},de=[],ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-flex",{staticClass:"px-2 py-2",attrs:{xs12:"",sm2:""}},[a("a",{attrs:{target:"jps",href:"https://jpsearch.go.jp/item/"+t.results[0].cho.value.split("/data/")[1]}},[a("v-img",{attrs:{src:t.results[0].thumbnail?t.results[0].thumbnail.value:"https://www.gumtree.com/static/1/resources/assets/rwd/images/orphans/a37b37d99e7cef805f354d47.noimage_thumbnail.png"}})],1)]),a("v-flex",{staticClass:"px-2 py-2",attrs:{xs12:"",sm10:""}},[a("h1",{staticClass:"mb-4"},[a("a",{attrs:{target:"jps",href:"https://jpsearch.go.jp/item/"+t.results[0].cho.value.split("/data/")[1]}},[t._v(t._s(t.results[0].label.value))])]),a("p",{staticClass:"mt-2"},[t._v(t._s(t.results[0].p_label.value))]),a("p",{staticClass:"mt-2"},[a("a",{attrs:{target:"snorql",href:t.results[0].cho.value}},[t._v("JPS利活用スキーマ")])])])],1)],1)},ge=[],fe={props:["id"],data:()=>({results:[]}),methods:{search(){let t=this.id,e="https://jpsearch.go.jp/data/"+t,a="PREFIX schema: <http://schema.org/> \n";a+="SELECT distinct * WHERE { \n",a+="?cho rdfs:label ?label . \n",a+="filter (?cho = <"+e+">)  \n",a+="OPTIONAL {?cho schema:image ?thumbnail . } \n",a+="?cho jps:sourceInfo ?sourceInfo . \n",a+="?sourceInfo schema:provider ?p . \n",a+="?p rdfs:label ?p_label . \n",a+="} \n",a+="LIMIT 1 \n",X.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(a)+"&output=json").then(t=>{let e=t.data.results.bindings;this.results=e}).catch(t=>{console.log(t)})}},watch:{id:function(){this.search()}},created(){this.search()}},be=fe,_e=Object(o["a"])(be,ve,ge,!1,null,null,null),ye=_e.exports;c()(_e,{VContainer:j["a"],VFlex:T["a"],VImg:W["a"],VLayout:q["a"]});var xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{directives:[{name:"show",rawName:"v-show",value:t.results.length>0,expression:"results.length > 0"}]},[a("v-card-text",[a("h1",{staticClass:"my-4"},[t._v("\n      "+t._s(t.label)+" \n      "),a("v-btn",{attrs:{text:"",small:""},on:{click:function(e){t.show_flg=!t.show_flg}}},[t.show_flg?[t._v("非表示")]:[t._v("表示")]],2)],1),t._l(t.results,(function(e,s){return a("v-card",{directives:[{name:"show",rawName:"v-show",value:t.show_flg||t.show_all_flg,expression:"show_flg || show_all_flg"}],key:s,staticClass:"mb-5",attrs:{color:"#F9F9F9"}},[a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("v-flex",{staticClass:"px-2 py-2",attrs:{xs12:"",sm2:""}},[a("v-img",{attrs:{src:e.thumbnail?e.thumbnail.value:"schema:creator"==t.property||"schema:publisher"==t.property?"http://simpleicon.com/wp-content/uploads/user1.png":""}})],1),a("v-flex",{staticClass:"px-2 py-2",attrs:{xs12:"",sm10:""}},[a("h1",[t._v(t._s(e.label.value))]),e.comment?a("p",{staticClass:"mt-2"},[t._v(t._s(e.comment.value))]):t._e()])],1),a("ListItemsOfCategory",{staticClass:"mt-5",attrs:{id:t.id,label:e.label.value,creator:e.creator.value,property:t.property,show_all_flg:t.show_all_flg}})],1)],1)}))],2)],1)},Ce=[],we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-text",[a("h1",{staticClass:"my-4"},[t._v("\n      作品（ランダムに最大"+t._s(t.size)+"件を表示） \n      "),a("v-btn",{attrs:{text:"",small:""},on:{click:function(e){t.show_flg=!t.show_flg}}},[t.show_flg?[t._v("非表示")]:[t._v("表示")]],2)],1),a("v-layout",{directives:[{name:"show",rawName:"v-show",value:t.show_flg||t.show_all_flg,expression:"show_flg || show_all_flg"}],attrs:{row:"",wrap:""}},t._l(t.results,(function(e,s){return a("v-flex",{key:s,attrs:{xs12:"",sm3:""}},[a("v-card",{staticClass:"my-2 mx-2"},[a("router-link",{attrs:{to:{name:"item",query:{id:e.cho.value.split("/data/")[1]}}}},[a("v-img",{attrs:{src:e.thumbnail?e.thumbnail.value:"https://www.gumtree.com/static/1/resources/assets/rwd/images/orphans/a37b37d99e7cef805f354d47.noimage_thumbnail.png"}})],1),a("v-card-text",[a("router-link",{attrs:{to:{name:"item",query:{id:e.cho.value.split("/data/")[1]}}}},[a("b",[t._v(t._s(e.label.value))])]),a("p",{staticClass:"my-1"},[t._v(t._s(e.p_label.value))])],1)],1)],1)})),1)],1)],1)},Ie=[];let Ee=1e3;var je={props:["id","creator","label","property","show_all_flg"],data:()=>({results:[],show_flg:!1,size:40}),methods:{search(){this.show_flg=!1,this.results=[];let t=this.id,e=this.creator,a="https://jpsearch.go.jp/data/"+t,s="PREFIX schema: <http://schema.org/> \n";s+="SELECT distinct * WHERE { \n",s+="?cho "+this.property+"/owl:sameAs? ?creator . \n",s+="filter(?creator = <"+e+">) . \n",s+="filter(?cho != <"+a+">) . \n",s+="?cho rdfs:label ?label . \n",s+="?cho schema:image ?thumbnail . \n",s+="?cho jps:sourceInfo ?sourceInfo . \n",s+="?sourceInfo schema:provider ?p . \n",s+="?p rdfs:label ?p_label . \n",s+="} \n",s+="LIMIT "+Ee+" \n",X.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(s)+"&output=json").then(t=>{let e=t.data.results.bindings;var a=[];for(let i=0;i<e.length;i++)a.push(i);var s=a.length;while(s){var r=Math.floor(Math.random()*s),l=a[--s];a[s]=a[r],a[r]=l}let n=this.size;a.length<n&&(n=a.length);let o=[];for(let i=0;i<n;i++)o.push(e[a[i]]);this.results=o}).catch(t=>{console.log(t)})}},watch:{id:function(){this.search()}},created(){this.search()}},Le=je,Te=Object(o["a"])(Le,we,Ie,!1,null,null,null),Ve=Te.exports;c()(Te,{VBtn:u["a"],VCard:m["a"],VCardText:p["b"],VFlex:T["a"],VImg:W["a"],VLayout:q["a"]});var qe={components:{ListItemsOfCategory:Ve},props:["id","label","property","show_all_flg"],data:()=>({results:[],show_flg:!1}),methods:{search(){this.show_flg=!1,this.results=[];let t=this.property,e=this.id,a="https://jpsearch.go.jp/data/"+e,s="PREFIX schema: <http://schema.org/> \n";s+="SELECT distinct * WHERE { \n",s+="?cho "+t+" ?creator. \n",s+="filter (?cho = <"+a+">)  \n",s+="?creator rdfs:label ?label . \n",s+="OPTIONAL {?creator schema:description ?comment . } \n",s+="OPTIONAL {?creator schema:image ?thumbnail . } \n",s+="} \n",s+="LIMIT 40 \n",X.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(s)+"&output=json").then(t=>{let e=t.data.results.bindings;this.results=e}).catch(t=>{console.log(t)})}},watch:{id:function(){this.search()}},created(){this.search()}},ke=qe,Re=Object(o["a"])(ke,xe,Ce,!1,null,null,null),Oe=Re.exports;c()(Re,{VBtn:u["a"],VCard:m["a"],VCardText:p["b"],VFlex:T["a"],VImg:W["a"],VLayout:q["a"]});var Pe={components:{ListCategories:Oe,ShowItem:ye},data:()=>({id:"",show_all_flg:!1}),watch:{$route(){this.id=this.$route.query.id}},mounted(){let t=this.$route.query.id;""!=t&&null!=t||(t="dignl-1901899"),this.id=t,this.$router.replace({name:"item",query:{id:this.id}},()=>{},()=>{})}},Se=Pe,Ne=Object(o["a"])(Se,pe,de,!1,null,null,null),Fe=Ne.exports;c()(Ne,{VBtn:u["a"],VContainer:j["a"]}),s["a"].use(C["a"]);var Ae=new C["a"]({scrollBehavior(){return{x:0,y:0}},base:"",routes:[{path:"/",name:"index",component:P},{path:"/index2",name:"index2",component:U},{path:"/list",name:"list",component:G},{path:"/search",name:"search",component:Yt},{path:"/search2",name:"search2",component:ne},{path:"/vis",name:"vis",component:me},{path:"/item",name:"item",component:Fe}]});s["a"].config.productionTip=!1,new s["a"]({router:Ae,render:function(t){return t(x)}}).$mount("#app")},"94dd":function(t,e,a){"use strict";var s=a("44be"),r=a.n(s);r.a}});
//# sourceMappingURL=app.e22594d1.js.map