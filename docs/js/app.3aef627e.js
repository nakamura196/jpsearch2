(function(t){function e(e){for(var r,n,o=e[0],i=e[1],c=e[2],h=0,p=[];h<o.length;h++)n=o[h],s[n]&&p.push(s[n][0]),s[n]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);u&&u(e);while(p.length)p.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var t,e=0;e<l.length;e++){for(var a=l[e],r=!0,o=1;o<a.length;o++){var i=a[o];0!==s[i]&&(r=!1)}r&&(l.splice(e--,1),t=n(n.s=a[0]))}return t}var r={},s={app:0},l=[];function n(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=r,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=i;l.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"44be":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var r=a("2b0e"),s=a("bb71");a("da64");r["a"].use(s["a"],{iconfont:"md"});var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"headline"},[t._v("\n            電子展示プロトタイプ\n        ")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{flat:""}},[a("router-link",{attrs:{to:"/"}},[t._v("Home")])],1)],1)],1),a("v-content",[a("router-view")],1),a("v-footer",{attrs:{dark:"",height:"auto"}},[a("v-card",{staticClass:"flex",attrs:{flat:"",tile:""}},[a("v-card-actions",{staticClass:"grey darken-3 justify-center my-5"},[t._v("\n                Satoru Nakamura\n                ")])],1)],1)],1)},n=[],o=a("2877"),i=a("6544"),c=a.n(i),u=a("7496"),h=a("8336"),p=a("b0af"),m=a("99d9"),d=a("549c"),v=a("553a"),g=a("9910"),b=a("71d9"),f=a("2a7f"),y={},_=Object(o["a"])(y,l,n,!1,null,null,null),x=_.exports;c()(_,{VApp:u["a"],VBtn:h["a"],VCard:p["a"],VCardActions:m["a"],VContent:d["a"],VFooter:v["a"],VSpacer:g["a"],VToolbar:b["a"],VToolbarItems:f["a"],VToolbarTitle:f["b"]});var C=a("8c4f"),I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{light:""}},[a("section",[a("v-parallax",{attrs:{src:"assets/hero.jpeg",height:"600"}},[a("v-layout",{staticClass:"white--text",attrs:{column:"","align-center":"","justify-center":""}},[a("h1",{staticClass:"white--text mb-2 display-1 text-xs-center"},[t._v("電子展示プロトタイプ")]),a("div",{staticClass:"subheading mb-3 text-xs-center"},[t._v("JPS利活用スキーマの活用例")]),a("v-btn",{staticClass:"blue lighten-2 mt-5",attrs:{dark:"",large:"",href:"#/search?q=葛飾北斎"}},[t._v("\n                    「葛飾北斎」で試す\n                ")])],1)],1)],1),a("v-content",[a("section",[a("v-layout",{staticClass:"my-5",attrs:{column:"",wrap:"","align-center":""}},[a("v-flex",{staticClass:"my-3",attrs:{xs12:"",sm4:""}},[a("div",{staticClass:"text-xs-center"},[a("h2",{staticClass:"headline"},[t._v("メニュー")])])]),a("v-flex",{attrs:{xs12:""}},[a("v-container",{attrs:{"grid-list-xl":""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"",md4:""}},[a("v-card",{staticClass:"elevation-0 transparent"},[a("v-card-text",{staticClass:"text-xs-center"},[a("v-icon",{staticClass:"blue--text text--lighten-2",attrs:{"x-large":""}},[t._v("people")])],1),a("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[a("div",{staticClass:"headline text-xs-center"},[a("router-link",{attrs:{to:"/list"}},[t._v("著者100人")])],1)]),a("v-card-text",[t._v("\n                                        作品数の多い著者100人から探す\n                                    ")])],1)],1),a("v-flex",{attrs:{xs12:"",md4:""}},[a("v-card",{staticClass:"elevation-0 transparent"},[a("v-card-text",{staticClass:"text-xs-center"},[a("v-icon",{staticClass:"blue--text text--lighten-2",attrs:{"x-large":""}},[t._v("library_books")])],1),a("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[a("div",{staticClass:"headline text-xs-center"},[a("a",{attrs:{href:"./vis.html"}},[t._v("ネットワーク")])])]),a("v-card-text",[t._v("\n                                        人物と作品の関係性の可視化\n                                    ")])],1)],1),a("v-flex",{attrs:{xs12:"",md4:""}},[a("v-card",{staticClass:"elevation-0 transparent"},[a("v-card-text",{staticClass:"text-xs-center"},[a("v-icon",{staticClass:"blue--text text--lighten-2",attrs:{"x-large":""}},[t._v("build")])],1),a("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[a("div",{staticClass:"headline text-xs-center"},[t._v("開発中")])])],1)],1)],1)],1)],1)],1)],1)])],1)},w=[],j=a("12b2"),E=a("a523"),T=a("0e8f"),q=a("132d"),k=a("a722"),R=a("8b9c"),V={},S=Object(o["a"])(V,I,w,!1,null,null,null),O=S.exports;c()(S,{VApp:u["a"],VBtn:h["a"],VCard:p["a"],VCardText:m["b"],VCardTitle:j["a"],VContainer:E["a"],VContent:d["a"],VFlex:T["a"],VIcon:q["a"],VLayout:k["a"],VParallax:R["a"]});var N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{directives:[{name:"show",rawName:"v-show",value:t.results.length>0,expression:"results.length > 0"}],attrs:{"grid-list-md":"","text-xs-center":""}},[a("h2",{staticClass:"my-5"},[t._v("作品数の多い著者100人")]),a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.results,function(e){return a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-card",[a("a",[e.thumbnail?a("v-img",{staticStyle:{"max-height":"20rem"},attrs:{src:e.thumbnail.value}}):t._e()],1),a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[a("router-link",{attrs:{to:{path:"/search",query:{q:e.label.value}}}},[t._v(t._s(e.label.value))])],1)])])],1)],1)}),1)],1)},P=[],A=a("bc3a"),F=a.n(A),M={data:()=>({results:[]}),mounted(){this.getAll()},methods:{getAll(){let t="";t+="select distinct count(?s) as ?count ?cho ?label ?thumbnail where { \n",t+="  ?s schema:creator ?cho . \n",t+="  ?cho rdfs:label ?label; \n",t+="  schema:image ?thumbnail \n",t+="} \n",t+="ORDER BY desc(?count) \n",t+="LIMIT 100 \n",F.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(t)+"&output=json").then(t=>{this.results=t.data.results.bindings,console.log(this.results)}).catch(t=>{console.log(t)})}}},U=M,D=a("adda"),$=Object(o["a"])(U,N,P,!1,null,null,null),X=$.exports;c()($,{VCard:p["a"],VCardTitle:j["a"],VContainer:E["a"],VFlex:T["a"],VImg:D["a"],VLayout:k["a"]});var B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm10:""}},[a("v-form",{ref:"form"},[a("v-text-field",{model:{value:t.term,callback:function(e){t.term=e},expression:"term"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.search()}}},[a("v-icon",[t._v("search")])],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm4:"","offset-sm4":""}},[a("br"),a("br"),a("br"),a("v-card",[t.result_target.thumbnail?a("v-img",{staticStyle:{"max-height":"20rem"},attrs:{src:t.result_target.thumbnail.value}}):t._e(),a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[t._v(t._s(t.result_target.label.value))]),a("div",[t._v(" "+t._s(t.result_target.comment.value)+" ")])])])],1)],1),a("div",{staticClass:"my-5"}),a("v-container",{directives:[{name:"show",rawName:"v-show",value:t.results_items.length>0,expression:"results_items.length > 0"}],attrs:{"grid-list-md":"","text-xs-center":""}},[a("h2",{staticClass:"my-5"},[t._v("作品で知る"),a("br"),a("small",[a("a",{attrs:{target:"_blank",href:t.link_items}},[t._v("すべてを見る")])])]),a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.results_items,function(e){return a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-card",[a("a",{attrs:{target:"snorql",href:e.cho.value}},[e.thumbnail?a("v-img",{staticStyle:{"max-height":"20rem"},attrs:{src:e.thumbnail.value}}):t._e()],1),a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[a("a",{attrs:{target:"snorql",href:e.cho.value}},[t._v(t._s(e.label.value))])])])])],1)],1)}),1),a("div",{staticClass:"mt-5",staticStyle:{width:"100%"}},[a("GChart",{attrs:{type:"ColumnChart",data:t.chartData,options:t.chartOptions}})],1)],1),a("div",{staticClass:"my-5"}),a("v-container",{directives:[{name:"show",rawName:"v-show",value:t.results_related.length>0,expression:"results_related.length > 0"}],attrs:{"grid-list-md":"","text-xs-center":""}},[a("h2",{staticClass:"my-5"},[t._v("関連ギャラリー"),a("br"),a("small",[a("a",{attrs:{target:"_blank",href:t.link_related}},[t._v("すべてを見る")])])]),a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.results_related,function(e){return a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-card",[a("a",{on:{click:function(a){return t.getAll(e.plabel.value)}}},[e.pthumbnail?a("v-img",{staticStyle:{"max-height":"20rem"},attrs:{src:e.pthumbnail.value}}):t._e()],1),a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[a("router-link",{attrs:{to:{path:"/search",query:{q:e.plabel.value}}}},[t._v(t._s(e.plabel.value))])],1)])])],1)],1)}),1),a("iframe",{staticClass:"mt-5",staticStyle:{border:"0",display:"block"},attrs:{src:t.iframe_url,width:"100%",height:"600px",scrolling:"no"}})],1),a("div",{staticClass:"my-5"}),a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("h2",{staticClass:"my-5"},[t._v("過去の展覧会を探す")]),a("div",{staticStyle:{width:"100%",height:"600px"}},[a("l-map",{attrs:{zoom:t.zoom,center:t.center}},[a("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._l(t.markers,function(e,r){return a("l-marker",{attrs:{"lat-lng":e.latlng}},[a("l-popup",[a("a",{attrs:{target:"_blank",href:e.url}},[t._v(t._s(e.content))])])],1)})],2)],1)]),a("div",{staticClass:"my-5"}),a("v-container",{directives:[{name:"show",rawName:"v-show",value:t.results_europeana.length>0,expression:"results_europeana.length > 0"}],attrs:{"grid-list-md":"","text-xs-center":""}},[a("h2",{staticClass:"mt-5 mb-5"},[t._v("Europeanaで探す")]),a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.results_europeana,function(e){return a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-card",[a("a",{attrs:{target:"snorql",href:e.uri.value}},[e.image?a("v-img",{staticStyle:{"max-height":"20rem"},attrs:{src:e.image.value}}):t._e()],1),a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[a("a",{attrs:{target:"snorql",href:e.uri.value}},[t._v(t._s(e.label.value))])])])])],1)],1)}),1)],1),a("div",{staticClass:"my-5"}),a("v-container",{directives:[{name:"show",rawName:"v-show",value:t.results_dpla.length>0,expression:"results_dpla.length > 0"}],attrs:{"grid-list-md":"","text-xs-center":""}},[a("h2",{staticClass:"mt-5 mb-5"},[t._v("DPLAで探す")]),a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.results_dpla,function(e){return a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-card",[a("a",{attrs:{target:"snorql",href:e.uri.value}},[e.image?a("v-img",{staticStyle:{"max-height":"20rem"},attrs:{src:e.image.value}}):t._e()],1),a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[a("a",{attrs:{target:"snorql",href:e.uri.value}},[t._v(t._s(e.label.value))])])])])],1)],1)}),1)],1)],1)},H=[],z=a("2699"),W=a("a40a"),G=a("4e2b"),J=a("f60f"),Y=a("e11e"),K=(a("6cc5"),a("cb43"));function Q(t){let e="PREFIX schema: <http://schema.org/> \n";return e+="PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> \n",e+="SELECT ?cho ?label ?thumbnail WHERE { \n",e+="?cho rdfs:label ?label; \n",e+="schema:creator/owl:sameAs? chname:"+t+" . \n",e+="OPTIONAL {?cho schema:image ?thumbnail} \n",e+="} \n",e+="LIMIT 12 \n",e}function Z(t){let e="PREFIX type: <https://jpsearch.go.jp/term/type/> \n";return e+="SELECT DISTINCT ?s ?label ?creator ?type WHERE { \n",e+="\t?s rdfs:label ?label ; a type:展覧会  . \n",e+="\tOPTIONAL {?s schema:creator ?creator .} \n",e+="\t?s ?p ?value. \n",e+="\tFILTER(bif:contains(?value, '\""+t+"\"')) . \n",e+="\t?s jps:sourceInfo ?source . \n",e+="} LIMIT 12 \n",e}function tt(t){let e="";return e+="PREFIX dc: <http://purl.org/dc/elements/1.1/> \n",e+="PREFIX edm: <http://www.europeana.eu/schemas/edm/> \n",e+="PREFIX ore: <http://www.openarchives.org/ore/terms/> \n",e+="SELECT ?uri ?label ?image WHERE{ \n",e+="\tBIND(chname:"+t+" as ?cname) \n",e+="\t{ \n",e+='\t\t?cname schema:name ?ename. FILTER(lang(?ename)="en") \n',e+='\t\tBIND(replace(?ename, ", ", " ") as ?name) \n',e+="\t\t?loduri owl:sameAs ?cname ; rdfs:isDefinedBy <http://dbpedia.org/>. \n",e+="\t\tSERVICE SILENT <http://sparql.europeana.eu/> { \n",e+="\t\t\t{?uri dc:creator ?name .} UNION  \n",e+="\t\t\t{?proxy dc:creator ?loduri ; ore:proxyFor ?cho .  \n",e+='?uri ore:proxyFor ?cho ; edm:europeanaProxy "false". } \n',e+="\t\t\t?uri dc:title ?label . \n",e+="\t\t\t?uri ore:proxyIn [edm:isShownBy ?image ] \n",e+="\t\t} \n",e+="\t\t} \n",e+="} limit 12\n",e}function et(t){let e="";return e+="PREFIX wrp: <http://purl.org/net/ld/wrapper/term#> \n",e+="SELECT ?uri ?label ?image WHERE{ \n",e+="\tBIND(chname:"+t+" as ?cname) \n",e+="\t{ \n",e+='\t\t?cname schema:name ?ename. FILTER(lang(?ename)="en") \n',e+='\t\tBIND(concat(strafter(?ename, ", "), " ", strbefore(?ename, ",")) as ?name) \n',e+="\t\tSERVICE SILENT <http://www.kanzaki.com/works/ld/wrapper/dpla-sparqler> { \n",e+='\t\t\t?uri a "image" ; \n',e+="\t\t\twrp:title ?label ; \n",e+="\t\t\twrp:creator ?name ; \n",e+="\t\t\twrp:image ?image \n",e+="\t\t} \n",e+="\t}  \n",e+="} limit 12\n",e}delete Y["Icon"].Default.prototype._getIconUrl,Y["Icon"].Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")});var at={components:{GChart:K["GChart"],LMap:z["a"],LTileLayer:W["a"],LMarker:G["a"],LPopup:J["a"]},data:()=>({result_target:{label:"",comment:""},results_items:[],results_related:[],results_event:[],results_europeana:[],results_dpla:[],term:"歌川広重",link_related:"",link_items:"",zoom:7,center:L.latLng(35.681489,139.767136),url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',markers:[],chartData:[],chartOptions:{},iframe_url:""}),watch:{$route(t,e){""!=this.$route.query.q&&(this.term=this.$route.query.q),this.getAll(this.term)}},mounted(){""!=this.$route.query.q&&(this.term=this.$route.query.q),this.getAll(this.term)},methods:{search(){var t=Object.assign({},this.$route.query);t.q=this.term,this.$router.push({query:t})},getAll(t){this.iframe_url="timeline.html?q="+t,this.term=t,this.getTargetAgent(t),this.getItems(t),this.getRelatedAgents(t),this.getEventItems(t),this.getEuropeanaItems(t),this.getDPLAItems(t),this.showMap(t),this.showChart(t)},getTargetAgent(t){this.result_target={label:"",comment:""};let e="PREFIX schema: <http://schema.org/> \n";e+="SELECT distinct * WHERE { \n",e+="?s rdfs:label ?label. \n",e+="filter (?s = chname:"+t+") . \n",e+="OPTIONAL {?s schema:description ?comment} \n",e+="OPTIONAL {?s schema:image ?thumbnail} \n",e+="} \n",e+="LIMIT 1 \n",F.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{this.result_target=t.data.results.bindings[0]}).catch(t=>{console.log(t)})},getItems(t){this.results_items=[];let e=Q(t);this.link_items="https://jpsearch.go.jp/rdf/sparql/easy/?query="+encodeURIComponent(e.split("LIMIT ")[0]),F.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{this.results_items=t.data.results.bindings}).catch(t=>{console.log(t)})},getRelatedAgents(t){this.results_related=[];let e="";e+="SELECT DISTINCT ?dest ?plabel ?pthumbnail WHERE { \n",e+="\t?s jps:agential\n",e+='\t\t[jps:relationType/skos:broader?/rdfs:label "制作"; jps:value/owl:sameAs? chname:'+t+" ],\n",e+='\t\t[jps:relationType/skos:broader?/rdfs:label "制作"; jps:value ?dest ]\n',e+="\tFILTER(?dest != chname:"+t+")\n",e+='\tFILTER(strstarts(str(?dest), "https://jpsearch.go.jp/entity/chname/"))\n',e+="  ?dest schema:image ?pthumbnail;\n",e+="      rdfs:label ?plabel\n",e+="} LIMIT 12 \n",this.link_related="https://jpsearch.go.jp/rdf/sparql/easy/?query="+encodeURIComponent(e.split("LIMIT ")[0]),F.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{this.results_related=t.data.results.bindings}).catch(t=>{console.log(t)})},getEventItems(t){this.results_event=[];let e=Z(t);F.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{this.results_event=t.data.results.bindings}).catch(t=>{console.log(t)})},getEuropeanaItems(t){this.results_europeana=[];let e=tt(t);F.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{this.results_europeana=t.data.results.bindings}).catch(t=>{console.log(t)})},getDPLAItems(t){this.results_dpla=[];let e=et(t);F.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{this.results_dpla=t.data.results.bindings}).catch(t=>{console.log(t)})},showMap(t){let e="PREFIX type: <https://jpsearch.go.jp/term/type/> \n";e+="SELECT DISTINCT ?s ?label ?creator ?type ?spatial ?lat ?long WHERE { \n",e+="\t?s rdfs:label ?label ; a type:展覧会  . \n",e+="\tOPTIONAL {?s schema:creator ?creator .} \n",e+="\t?s ?p ?value. \n",e+="\tFILTER(bif:contains(?value, '\""+t+"\"')) . \n",e+="\t?s jps:sourceInfo ?source . \n",e+="\t?s schema:spatial ?spatial . \n",e+="\t?spatial schema:geo ?geo . \n",e+="\t?geo schema:latitude ?lat  . \n",e+="\t?geo schema:longitude ?long . \n",e+="} ",F.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{let e=t.data.results.bindings;this.markers=[];let a=0,r=0;for(let s=0;s<e.length;s++){let t=e[s],l={latlng:L.latLng(Number(t.lat.value),Number(t.long.value)),content:t.label.value,url:t.s.value};this.markers.push(l),a+=Number(t.lat.value),r+=Number(t.long.value)}this.center=L.latLng(a/e.length,r/e.length)}).catch(t=>{console.log(t)})},showChart(t){let e="PREFIX schema: <http://schema.org/> \n";e+="PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> \n",e+="SELECT ?cho ?label ?thumbnail ?pLabel WHERE { \n",e+="?cho rdfs:label ?label; \n",e+="schema:creator/owl:sameAs? chname:"+t+" . \n",e+="OPTIONAL {?cho schema:image ?thumbnail} \n",e+="?cho jps:sourceInfo ?source . \n",e+="?source schema:provider ?provider . \n",e+="?provider rdfs:label ?pLabel . \n",e+="} \n",F.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{let e=t.data.results.bindings,a={};for(let l=0;l<e.length;l++){let t=e[l],r=t.pLabel.value;a[r]||(a[r]=0),a[r]+=1}let r=[];r.push(["Source","# of items"]);let s=Object.keys(a).sort(function(t,e){return-(a[t]-a[e])});for(let l=0;l<s.length;l++){let t=s[l];r.push([t,a[t]])}this.chartData=r}).catch(t=>{console.log(t)})}}},rt=at,st=a("4bd4"),lt=a("2677"),nt=Object(o["a"])(rt,B,H,!1,null,null,null),ot=nt.exports;c()(nt,{VBtn:h["a"],VCard:p["a"],VCardTitle:j["a"],VContainer:E["a"],VFlex:T["a"],VForm:st["a"],VIcon:q["a"],VImg:D["a"],VLayout:k["a"],VTextField:lt["a"]});var it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("div",{staticStyle:{width:"100%",height:"600px"}},[a("l-map",{attrs:{zoom:t.zoom,center:t.center}},[a("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._l(t.markers,function(e,r){return a("l-marker",{attrs:{"lat-lng":e.latlng}},[a("l-popup",[a("a",{attrs:{target:"_blank",href:e.url}},[t._v(t._s(e.content))])])],1)})],2)],1)])},ct=[];delete Y["Icon"].Default.prototype._getIconUrl,Y["Icon"].Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")});var ut={components:{LMap:z["a"],LTileLayer:W["a"],LMarker:G["a"],LPopup:J["a"]},data(){return{zoom:7,center:L.latLng(47.41322,-1.219482),url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',markers:[]}},methods:{removeMarker(t){this.markers.splice(t,1)},addMarker(t){this.markers.push(t.latlng)}},mounted(){let t="葛飾北斎",e="PREFIX type: <https://jpsearch.go.jp/term/type/> \n";e+="SELECT DISTINCT ?s ?label ?creator ?type ?spatial ?lat ?long WHERE { \n",e+="\t?s rdfs:label ?label ; a type:展覧会  . \n",e+="\tOPTIONAL {?s schema:creator ?creator .} \n",e+="\t?s ?p ?value. \n",e+="\tFILTER(bif:contains(?value, '\""+t+"\"')) . \n",e+="\t?s jps:sourceInfo ?source . \n",e+="\t?s schema:spatial ?spatial . \n",e+="\t?spatial schema:geo ?geo . \n",e+="\t?geo schema:latitude ?lat  . \n",e+="\t?geo schema:longitude ?long . \n",e+="} ",F.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(e)+"&output=json").then(t=>{this.results_event=t.data.results.bindings,this.markers=[];let e=0,a=0;for(let r=0;r<this.results_event.length;r++){let t=this.results_event[r],s={latlng:L.latLng(Number(t.lat.value),Number(t.long.value)),content:t.label.value,url:t.s.value};this.markers.push(s),e+=Number(t.lat.value),a+=Number(t.long.value)}this.center=L.latLng(e/this.results_event.length,a/this.results_event.length)}).catch(t=>{console.log(t)})}},ht=ut,pt=(a("94dd"),Object(o["a"])(ht,it,ct,!1,null,null,null)),mt=pt.exports;c()(pt,{VContainer:E["a"]}),r["a"].use(C["a"]);var dt=new C["a"]({scrollBehavior(){return{x:0,y:0}},base:"",routes:[{path:"/",name:"index",component:O},{path:"/list",name:"list",component:X},{path:"/search",name:"search",component:ot},{path:"/vis",name:"vis",component:mt}]});r["a"].config.productionTip=!1,new r["a"]({router:dt,render:function(t){return t(x)}}).$mount("#app")},"94dd":function(t,e,a){"use strict";var r=a("44be"),s=a.n(r);s.a}});
//# sourceMappingURL=app.3aef627e.js.map