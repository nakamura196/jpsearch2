(function(t){function e(e){for(var a,l,o=e[0],i=e[1],u=e[2],h=0,p=[];h<o.length;h++)l=o[h],n[l]&&p.push(n[l][0]),n[l]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);c&&c(e);while(p.length)p.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],a=!0,o=1;o<r.length;o++){var i=r[o];0!==n[i]&&(a=!1)}a&&(s.splice(e--,1),t=l(l.s=r[0]))}return t}var a={},n={app:0},s=[];function l(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=t,l.c=a,l.d=function(t,e,r){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(r,a,function(e){return t[e]}.bind(null,a));return r},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=i;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var a=r("2b0e"),n=r("bb71");r("da64");a["a"].use(n["a"],{iconfont:"md"});var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-toolbar",{attrs:{app:""}},[r("v-toolbar-title",{staticClass:"headline"},[r("span",[t._v("電子展示プロトタイプ")])])],1),r("v-content",[r("Index")],1),r("v-footer",{attrs:{dark:"",height:"auto"}},[r("v-card",{staticClass:"flex",attrs:{flat:"",tile:""}},[r("v-card-actions",{staticClass:"grey darken-3 justify-center"},[t._v("\n                ©2019 — "),r("strong",[t._v("Satoru Nakamura（国立国会図書館　次世代システム開発研究室）")])])],1)],1)],1)},l=[],o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs10:""}},[r("v-form",{ref:"form"},[r("v-text-field",{model:{value:t.term,callback:function(e){t.term=e},expression:"term"}})],1)],1),r("v-flex",{attrs:{xs2:""}},[r("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.getAll(t.term)}}},[r("v-icon",[t._v("search")])],1)],1)],1),r("v-flex",{attrs:{xs12:"",sm4:"","offset-sm4":""}},[r("br"),r("br"),r("br"),r("v-card",[t.result_target.thumbnail?r("v-img",{staticStyle:{"max-height":"20rem"},attrs:{src:t.result_target.thumbnail.value}}):t._e(),r("v-card-title",{attrs:{"primary-title":""}},[r("div",[r("h3",{staticClass:"headline mb-0"},[t._v(t._s(t.result_target.label.value))]),r("div",[t._v(" "+t._s(t.result_target.comment.value)+" ")])])])],1)],1),r("v-container",{directives:[{name:"show",rawName:"v-show",value:t.results_related.length>0,expression:"results_related.length > 0"}],attrs:{"grid-list-md":"","text-xs-center":""}},[r("br"),r("br"),r("br"),r("h2",[t._v("関連ギャラリー")]),r("br"),r("v-layout",{attrs:{row:"",wrap:""}},t._l(t.results_related,function(e){return r("v-flex",{attrs:{xs2:""}},[r("v-card",[r("a",{on:{click:function(r){return t.getAll(e.plabel.value)}}},[e.pthumbnail?r("v-img",{staticStyle:{"max-height":"20rem"},attrs:{src:e.pthumbnail.value}}):t._e()],1),r("v-card-title",{attrs:{"primary-title":""}},[r("div",[r("h3",{staticClass:"headline mb-0"},[r("a",{on:{click:function(r){return t.getAll(e.plabel.value)}}},[t._v(t._s(e.plabel.value))])])])])],1)],1)}),1)],1),r("v-container",{directives:[{name:"show",rawName:"v-show",value:t.results_items.length>0,expression:"results_items.length > 0"}],attrs:{"grid-list-md":"","text-xs-center":""}},[r("br"),r("br"),r("br"),r("h2",[t._v("作品で知る")]),r("br"),r("v-layout",{attrs:{row:"",wrap:""}},t._l(t.results_items,function(e){return r("v-flex",{attrs:{xs2:""}},[r("v-card",[r("a",{attrs:{target:"snorql",href:e.cho.value}},[e.thumbnail?r("v-img",{staticStyle:{"max-height":"20rem"},attrs:{src:e.thumbnail.value}}):t._e()],1),r("v-card-title",{attrs:{"primary-title":""}},[r("div",[r("h3",{staticClass:"headline mb-0"},[r("a",{attrs:{target:"snorql",href:e.cho.value}},[t._v(t._s(e.label.value))])])])])],1)],1)}),1)],1),r("v-container",{directives:[{name:"show",rawName:"v-show",value:t.results_event.length>0,expression:"results_event.length > 0"}],attrs:{"grid-list-md":"","text-xs-center":""}},[r("br"),r("br"),r("br"),r("h2",[t._v("過去の展覧会を探す")]),r("br"),r("v-layout",{attrs:{row:"",wrap:""}},t._l(t.results_event,function(e){return r("v-flex",{attrs:{xs2:""}},[r("v-card",[r("a",{attrs:{target:"snorql",href:e.s.value}},[e.thumbnail?r("v-img",{staticStyle:{"max-height":"20rem"},attrs:{src:e.thumbnail.value}}):t._e()],1),r("v-card-title",{attrs:{"primary-title":""}},[r("div",[r("h3",{staticClass:"headline mb-0"},[r("a",{attrs:{target:"snorql",href:e.s.value}},[t._v(t._s(e.label.value))])])])])],1)],1)}),1)],1),r("v-container",{directives:[{name:"show",rawName:"v-show",value:t.results_europeana.length>0,expression:"results_europeana.length > 0"}],attrs:{"grid-list-md":"","text-xs-center":""}},[r("br"),r("br"),r("br"),r("h2",[t._v("Europeanaで探す")]),r("br"),r("v-layout",{attrs:{row:"",wrap:""}},t._l(t.results_europeana,function(e){return r("v-flex",{attrs:{xs2:""}},[r("v-card",[r("a",{attrs:{target:"snorql",href:e.uri.value}},[e.image?r("v-img",{staticStyle:{"max-height":"20rem"},attrs:{src:e.image.value}}):t._e()],1),r("v-card-title",{attrs:{"primary-title":""}},[r("div",[r("h3",{staticClass:"headline mb-0"},[r("a",{attrs:{target:"snorql",href:e.uri.value}},[t._v(t._s(e.label.value))])])])])],1)],1)}),1)],1),r("v-container",{directives:[{name:"show",rawName:"v-show",value:t.results_dpla.length>0,expression:"results_dpla.length > 0"}],attrs:{"grid-list-md":"","text-xs-center":""}},[r("br"),r("br"),r("br"),r("h2",[t._v("DPLAで探す")]),r("br"),r("v-layout",{attrs:{row:"",wrap:""}},t._l(t.results_dpla,function(e){return r("v-flex",{attrs:{xs2:""}},[r("v-card",[r("a",{attrs:{target:"snorql",href:e.uri.value}},[e.image?r("v-img",{staticStyle:{"max-height":"20rem"},attrs:{src:e.image.value}}):t._e()],1),r("v-card-title",{attrs:{"primary-title":""}},[r("div",[r("h3",{staticClass:"headline mb-0"},[r("a",{attrs:{target:"snorql",href:e.uri.value}},[t._v(t._s(e.label.value))])])])])],1)],1)}),1)],1)],1)},i=[],u=r("bc3a"),c=r.n(u);function h(t){var e="PREFIX schema: <http://schema.org/> \n";return e+="PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> \n",e+="SELECT distinct * WHERE { \n",e+="?s rdfs:label ?label. \n",e+="filter (?s = <http://ja.dbpedia.org/resource/"+t+">) . \n",e+="?s rdfs:comment ?comment. \n",e+="OPTIONAL {?s <http://dbpedia.org/ontology/thumbnail> ?thumbnail} \n",e+="} \n",e+="LIMIT 1 \n",e}function p(t){var e="PREFIX schema: <http://schema.org/> \n";return e+="PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> \n",e+="SELECT ?cho ?label ?thumbnail WHERE { \n",e+="?cho rdfs:label ?label; \n",e+="schema:creator/owl:sameAs? chname:"+t+" . \n",e+="OPTIONAL {?cho schema:image ?thumbnail} \n",e+="} \n",e+="LIMIT 12 \n",e}function m(t){var e="";return e+="select distinct ?plabel ?pthumbnail ?pcomment where { \n",e+="    <http://ja.dbpedia.org/resource/"+t+"> <http://dbpedia.org/ontology/wikiPageWikiLink> ?o .   \n",e+="?o rdfs:label ?plabel.  \n",e+="?o rdfs:comment ?pcomment.  \n",e+="?o <http://dbpedia.org/ontology/thumbnail> ?pthumbnail.  \n",e+="?o <http://www.w3.org/2002/07/owl#sameAs> ?e \n",e+='           FILTER(strstarts(str(?e), "http://www.wikidata.org/")) \n',e+="   SERVICE <https://jpsearch.go.jp/rdf/sparql> { \n",e+="  ?cho rdfs:label ?label; \n",e+="   owl:sameAs? ?e.  \n",e+="   ?cho schema:image ?thumbnail \n",e+=" } \n",e+="} LIMIT 12 \n",e}function d(t){var e="";return e+="select distinct ?cho ?label ?thumbnail ?plabel where { \n",e+="    <http://ja.dbpedia.org/resource/"+t+"> <http://dbpedia.org/ontology/wikiPageWikiLink> ?o .   \n",e+="?o rdfs:label ?plabel.  \n",e+="?o <http://www.w3.org/2002/07/owl#sameAs> ?e \n",e+='           FILTER(strstarts(str(?e), "http://www.wikidata.org/")) \n',e+="   SERVICE <https://jpsearch.go.jp/rdf/sparql> { \n",e+="  ?cho rdfs:label ?label; \n",e+="   schema:creator/owl:sameAs? ?e.  \n",e+="   ?cho schema:image ?thumbnail \n",e+=" } \n",e+="} LIMIT 12 \n",e}function v(t){var e="PREFIX type: <https://jpsearch.go.jp/term/type/> \n";return e+="SELECT DISTINCT ?s ?label ?creator ?type WHERE { \n",e+="\t?s rdfs:label ?label ; a type:展覧会  . \n",e+="\tOPTIONAL {?s schema:creator ?creator .} \n",e+="\t?s ?p ?value. \n",e+="\tFILTER(bif:contains(?value, '\""+t+"\"')) . \n",e+="\t?s jps:sourceInfo ?source . \n",e+="} LIMIT 12 \n",e}function g(t){var e="";return e+="PREFIX dc: <http://purl.org/dc/elements/1.1/> \n",e+="PREFIX edm: <http://www.europeana.eu/schemas/edm/> \n",e+="PREFIX ore: <http://www.openarchives.org/ore/terms/> \n",e+="SELECT ?uri ?label ?image WHERE{ \n",e+="\tBIND(chname:"+t+" as ?cname) \n",e+="\t{ \n",e+='\t\t?cname schema:name ?ename. FILTER(lang(?ename)="en") \n',e+='\t\tBIND(replace(?ename, ", ", " ") as ?name) \n',e+="\t\t?loduri owl:sameAs ?cname ; rdfs:isDefinedBy <http://dbpedia.org/>. \n",e+="\t\tSERVICE SILENT <http://sparql.europeana.eu/> { \n",e+="\t\t\t{?uri dc:creator ?name .} UNION  \n",e+="\t\t\t{?proxy dc:creator ?loduri ; ore:proxyFor ?cho .  \n",e+='?uri ore:proxyFor ?cho ; edm:europeanaProxy "false". } \n',e+="\t\t\t?uri dc:title ?label . \n",e+="\t\t\t?uri ore:proxyIn [edm:isShownBy ?image ] \n",e+="\t\t} \n",e+="\t\t} \n",e+="} limit 12\n",e}function f(t){var e="";return e+="PREFIX wrp: <http://purl.org/net/ld/wrapper/term#> \n",e+="SELECT ?uri ?label ?image WHERE{ \n",e+="\tBIND(chname:"+t+" as ?cname) \n",e+="\t{ \n",e+='\t\t?cname schema:name ?ename. FILTER(lang(?ename)="en") \n',e+='\t\tBIND(concat(strafter(?ename, ", "), " ", strbefore(?ename, ",")) as ?name) \n',e+="\t\tSERVICE SILENT <http://www.kanzaki.com/works/ld/wrapper/dpla-sparqler> { \n",e+='\t\t\t?uri a "image" ; \n',e+="\t\t\twrp:title ?label ; \n",e+="\t\t\twrp:creator ?name ; \n",e+="\t\t\twrp:image ?image \n",e+="\t\t} \n",e+="\t}  \n",e+="} limit 12\n",e}var b={data:function(){return{result_target:{label:"",comment:""},results_items:[],results_related:[],results_event:[],results_europeana:[],results_dpla:[],term:"歌川広重"}},mounted:function(){this.getAll(this.term)},methods:{getAll:function(t){this.term=t,this.getTargetAgent(t),this.getItems(t),this.getRelatedAgents(t),this.getRelatedPosts(t),this.getEventItems(t),this.getEuropeanaItems(t),this.getDPLAItems(t)},getTargetAgent:function(t){var e=this;this.result_target={label:"",comment:""};var r=h(t);c.a.get("http://ja.dbpedia.org/sparql?query="+encodeURIComponent(r)+"&output=json").then(function(t){e.result_target=t.data.results.bindings[0]}).catch(function(t){console.log(t)})},getItems:function(t){var e=this;this.results_items=[];var r=p(t);c.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(r)+"&output=json").then(function(t){e.results_items=t.data.results.bindings}).catch(function(t){console.log(t)})},getRelatedPosts:function(t){var e=this;this.results2=[];var r=d(t);c.a.get("http://ja.dbpedia.org/sparql?query="+encodeURIComponent(r)+"&output=json").then(function(t){e.results2=t.data.results.bindings}).catch(function(t){console.log(t)})},getRelatedAgents:function(t){var e=this;this.results_related=[];var r=m(t);c.a.get("http://ja.dbpedia.org/sparql?query="+encodeURIComponent(r)+"&output=json").then(function(t){e.results_related=t.data.results.bindings}).catch(function(t){console.log(t)})},getEventItems:function(t){var e=this;this.results_event=[];var r=v(t);c.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(r)+"&output=json").then(function(t){e.results_event=t.data.results.bindings}).catch(function(t){console.log(t)})},getEuropeanaItems:function(t){var e=this;this.results_europeana=[];var r=g(t);c.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(r)+"&output=json").then(function(t){e.results_europeana=t.data.results.bindings}).catch(function(t){console.log(t)})},getDPLAItems:function(t){var e=this;this.results_dpla=[];var r=f(t);c.a.get("https://jpsearch.go.jp/rdf/sparql?query="+encodeURIComponent(r)+"&output=json").then(function(t){e.results_dpla=t.data.results.bindings}).catch(function(t){console.log(t)})}}},w=b,_=r("2877"),I=r("6544"),y=r.n(I),x=r("8336"),E=r("b0af"),j=r("12b2"),R=r("a523"),C=r("0e8f"),T=r("4bd4"),q=r("132d"),L=r("adda"),P=r("a722"),S=r("2677"),A=Object(_["a"])(w,o,i,!1,null,null,null),k=A.exports;y()(A,{VBtn:x["a"],VCard:E["a"],VCardTitle:j["a"],VContainer:R["a"],VFlex:C["a"],VForm:T["a"],VIcon:q["a"],VImg:L["a"],VLayout:P["a"],VTextField:S["a"]});var V={name:"App",components:{Index:k},data:function(){return{}}},F=V,N=r("7496"),O=r("99d9"),D=r("549c"),M=r("553a"),X=r("71d9"),U=r("2a7f"),B=Object(_["a"])(F,s,l,!1,null,null,null),W=B.exports;y()(B,{VApp:N["a"],VCard:E["a"],VCardActions:O["a"],VContent:D["a"],VFooter:M["a"],VToolbar:X["a"],VToolbarTitle:U["a"]}),a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(W)}}).$mount("#app")}});
//# sourceMappingURL=app.47795309.js.map